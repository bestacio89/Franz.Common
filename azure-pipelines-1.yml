# azure-pipelines.yml
trigger:
  branches:
    include:
      - main
      - develop

pool:
  vmImage: 'ubuntu-latest'

steps:
  - checkout: self
    persistCredentials: true

  - script: |
      git config user.name "Azure DevOps"
      git config user.email "build@azure.devops"
      
      # Add GitHub remote
      git remote add github https://$bestacio89:$(GITHUB_TOKEN)@github.com/bestacio89/Franz.Common.git
      
      # Push branch from Azure -> GitHub
      git push github HEAD:main
    displayName: 'Mirror to GitHub'
